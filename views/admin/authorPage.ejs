<%- include('../includes/head.ejs')%>
<% const authorName = author.firstname ? 
  author.firstname + " " + author.lastname :
  author.lastname;
%>

<link rel="stylesheet" href="/css/admin/admin-author-page.css">
</head>

<body>
  <%- include('../includes/header.ejs') %>
  <main>
    <h2><%= authorName %></h2>

    <p class="author-dates author-info">
      <%= author.birthyear + "-" + (author.deathyear ? author.deathyear : "present") %>
    </p>

    <img class="author-image" src="<%= author.imageURL ? author.imageURL : 'https://pixy.org/src/92/929092.jpg' %>" alt="<%= author.imageURL ? authorName : 'imageURL not provided' %> ">
    <p class="author-bio author-info">
      <%= author.biography %>
    </p>
    <div class="author-books">
      <h3 class="author-books-heading">Books</h3>
      <ul class="author-books-list">
        <% for (let book of author.books) { %>
        <li>
          <img class="author-book-image" src="<%= book.imageURL %>" alt="<%= book.imageURL ? book.title : 'imageURL not provided' %> ">
          <p class="author-book-title"><%= book.title %></p>
        </li>
        <% } %>
      </ul>
    </div>

    <a class="author-edit-link" href="/admin/authors/<%= author._id %>/edit">Edit Author Info</a>


  </main>
  <footer>

  </footer>
</body>

</html>